webpackJsonp([1],{"5W1q":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o=n("NYxO"),a=n("424j"),r=n("3EgV"),i=n.n(r),l=(n("QCv7"),n("5W1q"),{data:function(){return{}}}),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire",dark:""}},[n("transition",{attrs:{name:"slide-x-transition",mode:"out-in"}},[n("router-view")],1),t._v(" "),n("v-footer",{attrs:{app:"",fixed:""}},[n("span",[t._v("© 2017")])])],1)},c=[],v={render:u,staticRenderFns:c},d=v,p=n("VU/8"),h=p(l,d,!1,null,null,null),_=h.exports,m=n("/ocq"),f=n("mtWM"),x=n.n(f),g={IS_LOCAL:!1,API_BASE_URL:"https://paguenpo.cl/api",LOGIN_URL:"https://paguenpo.cl/api/token-auth/"},k={data:function(){return{drawer:null,api:g,username:"",password:""}},methods:{submitLogin:function(){var t=this;x()({method:"post",url:this.api.LOGIN_URL,data:{username:this.username,password:this.password}}).then(function(e){t.$store.commit("setToken",e.data.token),t.$router.push({name:"home"})})}}},b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",[n("v-container",[n("v-layout",[n("v-flex",[n("p",[t._v("Login url is "+t._s(t.api.LOGIN_URL))])])],1),t._v(" "),n("v-layout",[n("v-flex",[n("form",{attrs:{action:""},on:{keypress:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submitLogin(e)}}},[n("v-text-field",{staticClass:"input-group--focused",attrs:{label:"Enter your username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("v-text-field",{staticClass:"input-group--focused",attrs:{label:"Enter your password",hint:"At least 8 characters",min:"8",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("v-btn",{attrs:{block:"",color:"secondary",dark:""},on:{click:t.submitLogin}},[t._v("Entrar")])],1)])],1)],1),t._v(" "),n("pre",[t._v("      "+t._s(t.$store.state.token)+"\n    ")])],1)},w=[],y={render:b,staticRenderFns:w},E=y,$=n("VU/8"),L=$(k,E,!1,null,null,null),U=L.exports,R={data:function(){return{drawer:null}},methods:{logout:function(){this.$store.commit("setToken",null),this.$router.push({name:"login"})}}},C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-navigation-drawer",{attrs:{clipped:"",fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-tile",{attrs:{to:{name:"home"},exact:""}},[n("v-list-tile-action",[n("v-icon",[t._v("fa-home")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Home")])],1)],1),t._v(" "),n("v-list-tile",{attrs:{to:{name:"households"}}},[n("v-list-tile-action",[n("v-icon",[t._v("home")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Households")])],1)],1),t._v(" "),n("v-list-tile",{on:{click:t.logout}},[n("v-list-tile-action",[n("v-icon",{attrs:{to:{name:"settings"}}},[t._v("\n            fa-sign-out\n          ")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Logout")])],1)],1)],1)],1),t._v(" "),n("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),n("v-toolbar-title",[t._v("PaguenPo")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:"",to:{name:"settings"}}},[n("v-icon",[t._v("settings")])],1)],1),t._v(" "),n("v-content",[n("v-container",[n("router-view"),t._v(" "),n("v-layout",[n("v-flex",[n("pre",[t._v("            "+t._s(t.$store.state)+"\n          ")])])],1)],1)],1)],1)},A=[],V={render:C,staticRenderFns:A},F=V,P=n("VU/8"),T=P(R,F,!1,null,null,null),H=T.exports,I={data:function(){return{}}},N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",[n("p",[t._v("Settings")])])],1)},O=[],S={render:N,staticRenderFns:O},G=S,M=n("VU/8"),W=M(I,G,!1,null,null,null),j=W.exports,q={data:function(){return{}}},B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",[n("p",[t._v("Homepage")])])],1)},z=[],Q={render:B,staticRenderFns:z},J=Q,Y=n("VU/8"),D=Y(q,J,!1,null,null,null),K=D.exports,X={name:"households",mounted:function(){var t=this;this.$nextTick(function(){t.setHouseholds()})},data:function(){return{households:[]}},methods:{setHouseholds:function(){var t=this;x.a.get(g.API_BASE_URL+"/households",{headers:{Authorization:"Token "+this.$store.state.token}}).then(function(e){t.households=e.data}).catch(function(t){console.error(t)})}}},Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[t.households.length>0?n("v-flex",t._l(t.households,function(e){return n("p",[n("router-link",{attrs:{to:{name:"household",params:{household_id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n      ")])],1)})):n("v-flex",[n("p",[t._v("No hay viviendas para este usuario!")])])],1)},tt=[],et={render:Z,staticRenderFns:tt},nt=et,st=n("VU/8"),ot=st(X,nt,!1,null,null,null),at=ot.exports,rt={name:"household",props:["household_id"],data:function(){return{}}},it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Vivienda "+t._s(t.household_id))]),t._v(" "),n("router-link",{attrs:{to:{name:"expenses"}}},[t._v("Gastos")]),t._v(" "),n("router-link",{attrs:{to:{name:"budgets"}}},[t._v("Presupuestos")]),t._v(" "),n("router-link",{attrs:{to:{name:"shopping_lists"}}},[t._v("Listas de Compras")]),t._v(" "),n("router-view")],1)},lt=[],ut={render:it,staticRenderFns:lt},ct=ut,vt=n("VU/8"),dt=vt(rt,ct,!1,null,null,null),pt=dt.exports,ht={name:"expenses",props:["household_id"],mounted:function(){var t=this;this.$nextTick(function(){t.setExpenses()})},data:function(){return{headers:[{text:"Monto",value:"amount"},{text:"Categoría",value:"category"},{text:"Usuario",value:"user"},{text:"Año",value:"year"},{text:"Mes",value:"month"}],expenses:[]}},methods:{setExpenses:function(){var t=this;x.a.get(g.API_BASE_URL+"/expenses/list",{params:{household:this.household_id},headers:{Authorization:"Token "+this.$store.state.token}}).then(function(e){t.expenses=e.data}).catch(function(t){console.error(t)})}}},_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",[n("h2",[t._v("Gastos Vivienda "+t._s(t.household_id))]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.expenses,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.amount))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.category))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.user))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.year))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.month))])]}}])})],1)],1)},mt=[],ft={render:_t,staticRenderFns:mt},xt=ft,gt=n("VU/8"),kt=gt(ht,xt,!1,null,null,null),bt=kt.exports,wt={name:"budgets",data:function(){return{}}},yt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("h2",[t._v("Presupuestos")])},Et=[],$t={render:yt,staticRenderFns:Et},Lt=$t,Ut=n("VU/8"),Rt=Ut(wt,Lt,!1,null,null,null),Ct=Rt.exports,At={name:"shopping-lists",data:function(){return{}}},Vt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("h2",[t._v("Listas de Compras")])},Ft=[],Pt={render:Vt,staticRenderFns:Ft},Tt=Pt,Ht=n("VU/8"),It=Ht(At,Tt,!1,null,null,null),Nt=It.exports;s.a.use(m.a);var Ot=new m.a({mode:"history",routes:[{path:"/login",name:"login",component:U},{path:"/",name:"base",component:H,children:[{path:"/",name:"home",component:K},{path:"/settings",name:"settings",component:j},{path:"/households",name:"households",component:at},{path:"vivienda/:household_id",name:"household",component:pt,props:!0,children:[{path:"expenses",name:"expenses",component:bt,props:!0},{path:"budgets",name:"budgets",component:Ct},{path:"shopping_lists",name:"shopping_lists",component:Nt}]}]}]});s.a.use(i.a),s.a.use(o.a),s.a.config.productionTip=!1;var St=new o.a.Store({state:{token:null},mutations:{setToken:function(t,e){t.token=e}},plugins:[Object(a.a)()],secure:!1});Ot.beforeEach(function(t,e,n){"login"===t.name||St.state.token?"login"===t.name&&St.state.token?n({name:"home"}):n():n({name:"login"})}),new s.a({el:"#app",router:Ot,store:St,template:"<App/>",components:{App:_}})},QCv7:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.633ecfc3e93875489185.js.map